<!DOCTYPE html>
<html lang="{{ idioma }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forma de Utilizar el Diccionario - Diccionario del 3MF</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dictionary_usage.css') }}">
</head>
    <body>
        <div class="container">
            <header>
                <div class="language-selection">
                    <div class="language-option">
                        <label for="input-language">Idioma</label>
                        <select id="input-language" class="language-select-box" onchange="changeLanguage()">
                            <option value="es" {% if idioma == 'es' %}selected{% endif %}>Español</option>
                            <option value="en" {% if idioma == 'en' %}selected{% endif %}>Inglés</option>
                            <option value="it" {% if idioma == 'it' %}selected{% endif %}>Italiano</option>
                            <option value="pt" {% if idioma == 'pt' %}selected{% endif %}>Portugues</option>
                        <!--<option value="fr" {% if idioma == 'fr' %}selected{% endif %}>Francés</option> -->
                        </select>
                    </div>
                </div>
            </header>
            <main>
                <div class="content">
                    <div class="alphabet-menu">
                        <ul id="alphabet-list">
                            {% for letter in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
                                <li onclick="selectLetter('{{ letter }}', this)">{{ letter }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div id="selected-letter" class="selected-letter">A</div>
                    <div id="terms-container"></div>
                </div>
            </main>
        </div>
    
    <script>
    function selectLetter(letter, element) {
        document.querySelectorAll('#alphabet-list li').forEach(li => li.classList.remove('active'));
        element.classList.add('active');
        document.getElementById('selected-letter').textContent = letter;
        
        fetch(`/terms/${letter}?idioma={{ idioma }}`)
            .then(response => response.text())
            .then(html => {
                document.getElementById('terms-container').innerHTML = html;
        });
    }

    function changeLanguage() {
        var selectedLanguage = document.getElementById('input-language').value;
        window.location.href = '/dictionary-usage?idioma=' + selectedLanguage;
    }
    </script>
</body>
</html>
